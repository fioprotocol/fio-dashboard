# Generated by generator-ezetech

## Client

#### Documentation: [Create-React-App](https://facebook.github.io/create-react-app/docs/getting-started).
`https://github.com/facebook/create-react-app`

##### Run tests:
```
npm test
```
In case you can't run tests: `brew install watchman` 

## Server

### Run server in dev mode

Create `.env` file from `.env.example` template:

```ini
HASH_SECRET=secret
JWT_SECRET=secret

SQL_HOST=localhost
SQL_PORT=5432
SQL_DB=boilerplate
SQL_USER=boilerplate
SQL_PASS=password

API_PORT=9000
BASE_URL=/
PORT=3000
NODE_LOGGER_TYPE=default
```

Run docker-compose:

```bash
docker-compose up
```

Then run

```bash
npm run server:dev
```

Notice:
Before start app in dev mode you need to run `npm install`

### Run tests for server

```bash
npm test:api
```
### Build embed widgets

How to create embed widget? That's super easy.
- Go to folder `src/widgets` and create a folder with a widget name.
- Create entry points for widget.
- Create a `html` file with `REACT_APP_WIDGET` id in `public` folder for your widget.
- Create `run` and `build` npm script in `package.json` file.
- Run script should be like `"export REACT_APP_WIDGET=${REACT_APP_WIDGET} && npm run client:start"`.
- Build script should be like `"export REACT_APP_WIDGET=${REACT_APP_WIDGET} && npm run client:build && source ./bin/build-widget.sh"`.

Before build:
- install jq package `https://stedolan.github.io/jq/`

How to build embed widget?
- Set `WIDGET_PUBLIC_URL` in `client/.env` file. If you want to test it locally set full path to build folder.

How to use embed widget?
- Copy files from `client/build/${YOUR_WIDGET_NAME_FOLDER}` to your host server.
- Go to `${YOUR_WIDGET_NAME_FOLDER}` folder on your server.
- Share `${REACT_APP_WIDGET}.js` file to web.
- Paste content from `widget.html` on other website.
- Voila! 